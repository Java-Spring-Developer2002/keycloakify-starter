{"version":3,"file":"static/js/4339.45cf0481.chunk.js","mappings":"+aAsBMA,GAAQC,EAAAA,EAAAA,OACb,YAI6D,IAH5DC,EAG2D,EAH3DA,UACAC,EAE2D,EAF3DA,KACGC,GACwD,YACnDC,EAAQH,EAARG,IAmBR,IAjBAC,EAAAA,EAAAA,IAAiB,CAChBJ,UAAAA,EACA,qBAAuB,WAAvB,8BAAwB,mGAASK,EAAT,EAASA,mBAAT,SAEMC,MAEtB,OADED,EACWE,EACFC,GAEZC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IAPI,cAEjBC,EAFiB,yBAShBA,GATgB,2CAAxB,mDAAuB,MAaxBC,EAAAA,EAAAA,IAAyBC,EAAAA,sBAEKC,IAA1BD,EAAAA,gBAAAA,MACH,OAAO,KAGR,IAAQE,EAAgBf,EAAhBe,IAAKC,EAAWhB,EAAXgB,OAEb,OACC,SAACC,EAAA,GAAD,2BACOlB,UAAAA,EAAWC,KAAAA,GAASC,IAD3B,IAECiB,8BAA8B,EAC9BC,gBAAgB,EAChBC,WAAYL,EAAI,cAChBM,UACC,iCACC,gBAAKC,GAAG,gBAAR,SAAyBT,EAAAA,gBAAAA,SACzB,kBAAMU,UAAU,eAAeC,OAAQtB,EAAIuB,YAAaC,OAAO,OAA/D,WACC,kBACCH,WAAWI,EAAAA,EAAAA,GACV1B,EAAM2B,cACN3B,EAAM2B,cACN3B,EAAM2B,cACN3B,EAAM4B,qBACN5B,EAAM6B,oBAEPC,KAAK,SACLT,GAAG,YACHU,KAAK,SACLC,MAAOjB,EAAO,eAEf,kBACCO,WAAWI,EAAAA,EAAAA,GAAK1B,EAAM2B,cAAe3B,EAAMiC,qBAAsBjC,EAAM6B,oBACvEC,KAAK,SACLT,GAAG,aACHU,KAAK,SACLC,MAAOjB,EAAO,mBAGhB,gBAAKO,UAAU,kBAMnB,IAGF,G","sources":["KcApp/Terms.tsx"],"sourcesContent":["import { memo } from \"react\";\r\nimport Template from \"keycloakify/lib/components/Template\";\r\nimport type { KcProps } from \"keycloakify\";\r\nimport { useDownloadTerms } from \"keycloakify\";\r\nimport type { KcContext } from \"./kcContext\";\r\nimport type { I18n } from \"./i18n\";\r\nimport { evtTermMarkdown } from \"keycloakify/lib/components/Terms\";\r\nimport { useRerenderOnStateChange } from \"evt/hooks\";\r\nimport tos_en_url from \"./tos_en.md\";\r\nimport tos_fr_url from \"./tos_fr.md\";\r\nimport { clsx } from \"keycloakify/lib/tools/clsx\";\r\n\r\n/**\r\n * NOTE: Yo do not need to do all this to put your own Terms and conditions\r\n * this is if you want component level customization.  \r\n * If the default works for you you can just use the useDownloadTerms hook \r\n * in the KcApp.tsx\r\n * Example: https://github.com/garronej/keycloakify-starter/blob/a20c21b2aae7c6dc6dbea294f3d321955ddf9355/src/KcApp/KcApp.tsx#L14-L30\r\n */\r\n\r\ntype KcContext_Terms = Extract<KcContext, { pageId: \"terms.ftl\" }>;\r\n\r\nconst Terms = memo(\r\n\t({\r\n\t\tkcContext,\r\n\t\ti18n,\r\n\t\t...props\r\n\t}: { kcContext: KcContext_Terms; i18n: I18n } & KcProps) => {\r\n\t\tconst { url } = kcContext;\r\n\r\n\t\tuseDownloadTerms({\r\n\t\t\tkcContext,\r\n\t\t\t\"downloadTermMarkdown\": async ({ currentLanguageTag }) => {\r\n\r\n\t\t\t\tconst markdownString = await fetch((() => {\r\n\t\t\t\t\tswitch (currentLanguageTag) {\r\n\t\t\t\t\t\tcase \"fr\": return tos_fr_url;\r\n\t\t\t\t\t\tdefault: return tos_en_url;\r\n\t\t\t\t\t}\r\n\t\t\t\t})()).then(response => response.text());\r\n\r\n\t\t\t\treturn markdownString;\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tuseRerenderOnStateChange(evtTermMarkdown);\r\n\r\n\t\tif (evtTermMarkdown.state === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst { msg, msgStr } = i18n;\r\n\r\n\t\treturn (\r\n\t\t\t<Template\r\n\t\t\t\t{...{ kcContext, i18n, ...props }}\r\n\t\t\t\tdoFetchDefaultThemeResources={true}\r\n\t\t\t\tdisplayMessage={false}\r\n\t\t\t\theaderNode={msg(\"termsTitle\")}\r\n\t\t\t\tformNode={\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div id=\"kc-terms-text\">{evtTermMarkdown.state}</div>\r\n\t\t\t\t\t\t<form className=\"form-actions\" action={url.loginAction} method=\"POST\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName={clsx(\r\n\t\t\t\t\t\t\t\t\tprops.kcButtonClass,\r\n\t\t\t\t\t\t\t\t\tprops.kcButtonClass,\r\n\t\t\t\t\t\t\t\t\tprops.kcButtonClass,\r\n\t\t\t\t\t\t\t\t\tprops.kcButtonPrimaryClass,\r\n\t\t\t\t\t\t\t\t\tprops.kcButtonLargeClass\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\tname=\"accept\"\r\n\t\t\t\t\t\t\t\tid=\"kc-accept\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tvalue={msgStr(\"doAccept\")}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName={clsx(props.kcButtonClass, props.kcButtonDefaultClass, props.kcButtonLargeClass)}\r\n\t\t\t\t\t\t\t\tname=\"cancel\"\r\n\t\t\t\t\t\t\t\tid=\"kc-decline\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tvalue={msgStr(\"doDecline\")}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<div className=\"clearfix\" />\r\n\t\t\t\t\t</>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\t},\r\n);\r\n\r\nexport default Terms;\r\n"],"names":["Terms","memo","kcContext","i18n","props","url","useDownloadTerms","currentLanguageTag","fetch","tos_fr_url","tos_en_url","then","response","text","markdownString","useRerenderOnStateChange","evtTermMarkdown","undefined","msg","msgStr","Template","doFetchDefaultThemeResources","displayMessage","headerNode","formNode","id","className","action","loginAction","method","clsx","kcButtonClass","kcButtonPrimaryClass","kcButtonLargeClass","name","type","value","kcButtonDefaultClass"],"sourceRoot":""}